const starSVG = "<div class = 'star'><svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 100 100' xml:space='preserve'><style type='text/css'>.st0{fill:#229948;}</style><g><path class='st0' d='M56.9,77.2V100c22.3-3.1,39.9-20.6,42.9-42.9H77C74.4,66.8,66.8,74.6,56.9,77.2z'/><path class='st0' d='M22.7,56.9H0c3.1,22.3,20.6,39.9,42.9,42.9V77.2C33,74.6,25.2,66.8,22.7,56.9z'/><path class='st0' d='M42.9,22.8V0C20.6,3.1,3.1,20.6,0,42.9h22.8C25.2,33,33,25.4,42.9,22.8z'/><path class='st0' d='M77,42.9h22.8C96.8,20.6,79,3.1,56.9,0v22.8C66.8,25.4,74.4,33,77,42.9z'/></g></svg></div>";
const haloSVG = "<div class='halo'><svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 100 100' xml:space='preserve'><style type='text/css'>.st2{fill:url(#SVGID_1_);}</style><radialGradient id='SVGID_1_' cx='50' cy='50' r='50' gradientUnits='userSpaceOnUse'><stop  offset='0' style='stop-color:#00FF3B'/><stop  offset='1' style='stop-color:#00FF00;stop-opacity:0'/></radialGradient><path class='st2' d='M50,0C22.4,0,0,22.4,0,50c0,27.6,22.4,50,50,50s50-22.4,50-50C100,22.4,77.6,0,50,0z M50,78.8c-15.9,0-28.8-12.9-28.8-28.8c0-15.9,12.9-28.8,28.8-28.8S78.8,34.1,78.8,50C78.8,65.9,65.9,78.8,50,78.8z'/></svg></div>";
const gitHubIconSVG = "<svg width='98' height='96' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' clip-rule='evenodd' d='M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z' fill='#fff'/></svg>";
const canvaIconSVG = "<svg width='100' height='100' viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'><g clip-path='url(#clip0_1_11)'><g clip-path='url(#clip1_1_11)'><path d='M49.9648 99.9295C77.5595 99.9295 99.9295 77.5595 99.9295 49.9648C99.9295 22.37 77.5595 0 49.9648 0C22.37 0 0 22.37 0 49.9648C0 77.5595 22.37 99.9295 49.9648 99.9295Z' fill='#7D2AE7'/><path d='M49.9648 99.9295C77.5595 99.9295 99.9295 77.5595 99.9295 49.9648C99.9295 22.37 77.5595 0 49.9648 0C22.37 0 0 22.37 0 49.9648C0 77.5595 22.37 99.9295 49.9648 99.9295Z' fill='url(#paint0_radial_1_11)'/><path d='M49.9648 99.9295C77.5595 99.9295 99.9295 77.5595 99.9295 49.9648C99.9295 22.37 77.5595 0 49.9648 0C22.37 0 0 22.37 0 49.9648C0 77.5595 22.37 99.9295 49.9648 99.9295Z' fill='url(#paint1_radial_1_11)'/><path d='M49.9648 99.9295C77.5595 99.9295 99.9295 77.5595 99.9295 49.9648C99.9295 22.37 77.5595 0 49.9648 0C22.37 0 0 22.37 0 49.9648C0 77.5595 22.37 99.9295 49.9648 99.9295Z' fill='url(#paint2_radial_1_11)'/><path d='M49.9648 99.9295C77.5595 99.9295 99.9295 77.5595 99.9295 49.9648C99.9295 22.37 77.5595 0 49.9648 0C22.37 0 0 22.37 0 49.9648C0 77.5595 22.37 99.9295 49.9648 99.9295Z' fill='url(#paint3_radial_1_11)'/><path d='M87.9417 54.497C87.8108 54.497 87.6915 54.5817 87.6299 54.7589C86.8404 57.012 85.7736 58.3522 84.8955 58.3522C84.391 58.3522 84.1868 57.79 84.1868 56.9081C84.1868 54.7014 85.5077 50.0218 86.174 47.8884C86.2512 47.6301 86.3012 47.3992 86.3012 47.2028C86.3012 46.5827 85.9622 46.2783 85.1226 46.2783C84.2175 46.2783 83.2433 46.6327 82.2959 48.2927C81.9685 46.8291 80.9787 46.1898 79.5961 46.1898C77.9976 46.1898 76.4534 47.2181 75.1825 48.8858C73.9116 50.5533 72.4171 51.1004 71.2927 50.8307C72.1014 48.851 72.4018 47.372 72.4018 46.2746C72.4018 44.553 71.5506 43.5132 70.1758 43.5132C68.0845 43.5132 66.8791 45.5081 66.8791 47.6071C66.8791 49.2285 67.6146 50.8961 69.2323 51.7049C67.8766 54.7705 65.897 57.5435 65.1461 57.5435C64.1756 57.5435 63.8904 52.7949 63.9443 49.3978C63.9789 47.449 64.1408 47.349 64.1408 46.7598C64.1408 46.4209 63.9213 46.1898 63.0394 46.1898C60.9827 46.1898 60.3473 47.9307 60.251 49.9295C60.2199 50.6891 60.101 51.4426 59.8967 52.1748C59.0378 55.2404 57.2661 57.5665 56.1108 57.5665C55.5754 57.5665 55.4291 57.0311 55.4291 56.3303C55.4291 54.1236 56.6654 51.3659 56.6654 49.0128C56.6654 47.2837 55.9067 46.19 54.478 46.19C52.7949 46.19 50.5689 48.1925 48.4622 51.9437C49.1553 49.0707 49.4406 46.29 47.3876 46.29C46.9423 46.2966 46.505 46.4102 46.1128 46.6213C45.9813 46.6831 45.8714 46.7829 45.7973 46.9078C45.7231 47.0327 45.6881 47.177 45.6969 47.322C45.8933 50.3801 43.2321 58.2136 40.7095 58.2136C40.2512 58.2136 40.0278 57.7167 40.0278 56.9157C40.0278 54.7051 41.3449 50.0372 42.0073 47.8998C42.0919 47.6224 42.1384 47.3837 42.1384 47.1758C42.1384 46.5904 41.7762 46.29 40.9559 46.29C40.0547 46.29 39.0766 46.6327 38.1331 48.2927C37.8018 46.8291 36.812 46.1898 35.4293 46.1898C33.161 46.1898 30.6268 48.5894 29.5138 51.7165C28.0232 55.8913 25.0193 59.9236 20.9754 59.9236C17.3051 59.9236 15.3679 56.8695 15.3679 52.0437C15.3679 45.0768 20.4825 39.3846 24.276 39.3846C26.09 39.3846 26.9565 40.54 26.9565 42.3116C26.9565 44.4567 25.7587 45.4541 25.7587 46.2707C25.7587 46.5211 25.9667 46.7675 26.3787 46.7675C28.0272 46.7675 29.9681 44.8303 29.9681 42.1884C29.9681 39.5463 27.823 37.613 24.0295 37.613C17.7597 37.613 11.4512 43.9215 11.4512 52.0053C11.4512 58.437 14.6246 62.3152 20.1126 62.3152C23.8561 62.3152 27.126 59.4037 28.8898 56.0067C29.0902 58.822 30.3687 60.2933 32.3175 60.2933C34.0506 60.2933 35.4524 59.2612 36.523 57.4472C36.9352 59.3459 38.0289 60.274 39.4502 60.274C41.0791 60.274 42.4425 59.2419 43.7404 57.324C43.7213 58.8299 44.064 60.2472 45.3695 60.2472C45.9856 60.2472 46.7213 60.1045 46.8524 59.5654C48.2272 53.8809 51.624 49.24 52.664 49.24C52.9721 49.24 53.0567 49.5366 53.0567 49.887C53.0567 51.4315 51.9667 54.5972 51.9667 56.6193C51.9667 58.8028 52.8951 60.2472 54.813 60.2472C56.939 60.2472 59.0994 57.6435 60.5398 53.8386C60.9906 57.3933 61.965 60.2624 63.49 60.2624C65.3616 60.2624 68.6852 56.3226 70.6996 52.1516C71.489 52.2518 72.6752 52.2248 73.8152 51.4199C73.3299 52.6484 73.0451 53.9927 73.0451 55.3366C73.0451 59.2073 74.8935 60.2933 76.4841 60.2933C78.2134 60.2933 79.6154 59.2612 80.6898 57.4472C81.0441 59.0841 81.9492 60.2701 83.613 60.2701C86.2163 60.2701 88.4772 57.6089 88.4772 55.4252C88.4772 54.8476 88.2307 54.497 87.9417 54.497ZM33.9043 58.148C32.8528 58.148 32.4408 57.089 32.4408 55.51C32.4408 52.7679 34.3163 48.1886 36.2998 48.1886C37.1663 48.1886 37.4937 49.2092 37.4937 50.4571C37.4937 53.2415 35.7106 58.148 33.9043 58.148ZM69.9177 49.9642C69.29 49.2169 69.0628 48.2002 69.0628 47.2951C69.0628 46.1783 69.4711 45.2346 69.96 45.2346C70.4492 45.2346 70.5994 45.7161 70.5994 46.3862C70.5994 47.5069 70.1988 49.1437 69.9177 49.9642ZM78.0709 58.148C77.0197 58.148 76.6075 56.9311 76.6075 55.51C76.6075 52.8642 78.4831 48.1886 80.4819 48.1886C81.3484 48.1886 81.6565 49.2016 81.6565 50.4571C81.6565 53.2415 79.9041 58.148 78.0709 58.148Z' fill='white'/></g></g></svg>";

const canvaIconSVGDefsPart = "<svg><defs><radialGradient id='paint0_radial_1_11' cx='0' cy='0' r='1' gradientUnits='userSpaceOnUse' gradientTransform='translate(19.2735 88.5696) rotate(-49.416) scale(77.2871)'><stop stop-color='#6420FF'/><stop offset='1' stop-color='#6420FF' stop-opacity='0'/></radialGradient><radialGradient id='paint1_radial_1_11' cx='0' cy='0' r='1' gradientUnits='userSpaceOnUse' gradientTransform='translate(26.4548 11.3602) rotate(54.703) scale(87.1555)'><stop stop-color='#00C4CC'/><stop offset='1' stop-color='#00C4CC' stop-opacity='0'/></radialGradient><radialGradient id='paint2_radial_1_11' cx='0' cy='0' r='1' gradientUnits='userSpaceOnUse' gradientTransform='translate(19.3022 88.5691) rotate(-45.1954) scale(76.3513 35.115)'><stop stop-color='#6420FF'/><stop offset='1' stop-color='#6420FF' stop-opacity='0'/></radialGradient><radialGradient id='paint3_radial_1_11' cx='0' cy='0' r='1' gradientUnits='userSpaceOnUse' gradientTransform='translate(40.8659 13.4642) rotate(66.5198) scale(78.674 131.797)'><stop stop-color='#00C4CC'/><stop offset='1' stop-color='#00C4CC' stop-opacity='0'/></radialGradient><clipPath id='clip0_1_11'><rect width='100' height='100' fill='white'/></clipPath><clipPath id='clip1_1_11'><rect width='100' height='100' fill='white'/></clipPath></defs></svg>";
// why here and not placed in HTML? Because HTML loads faster than DOMContentLoaded, making the stars and halo flash across the whole screen before they get the hidden attribute. When they flash, some of them are stretched to 100% width (from having no width, so it uses the 100% from the viewbox).
//svg.style.visibility = 'hidden'; // DON'T USE style.display on SVGs directly! it messes up the SVG.

const codingProject = {
	work: 'Software Engineering',
	name: "",
	objective: "",
	stack: "",
	tasks: "",
	sophistication: "",
	links: [],
}
const designProject = {
	work: 'Design',
	name: "",
	concept: "",
	sophistication: "",
	links: [],
}

const projects = [];

const googleSearch = structuredClone(codingProject);
googleSearch.name = 'Google Search (Harvard CS50W Project 0)';
googleSearch.objective = 'Functionally and visually identical to google search front page.';
googleSearch.stack = 'Front-end: HTML, CSS';
googleSearch.tasks = 'Mostly a CSS challenge. Links with parameters. Image search page, advanced search parameters page.';
googleSearch.sophistication = '&#x2B24 ';
googleSearch.links.push('https://github.com/simonpuravida333/GoogleSearch');
projects.push(googleSearch);

const wiki = structuredClone(codingProject);
wiki.name = 'Wiki (Harvard CS50W Project 1)';
wiki.objective = 'A simple Wikipedia App for reading, creating & editing articles.';
wiki.stack = 'Back-end: Python / Django<br>Front-end: HTML, CSS';
wiki.tasks = 'Django routing; Django templates; algorithms; use of Markdown';
wiki.sophistication = '&#x2B24 &#x2B24 ';
wiki.links.push('https://github.com/simonpuravida333/Wiki');
projects.push(wiki);

const auctions = structuredClone(codingProject);
auctions.name = 'Auctions (Harvard CS50W Project 2)';
auctions.objective = 'An ebay-like application.<br>Create listings, put articles on watchlist, bid on articles...';
auctions.stack = 'Back-end: Pyton / Django, SQLite, Jinja2<br>Front-end: HTML, CSS';
auctions.tasks = '8 SQL tables / models, additional to user; Django forms; 7 basic pages (like watchlist, active biddings, acquired auctions...); algorithms, bidding with responsive messages; comments; article categories; UI design';
auctions.sophistication = '&#x2B24 &#x2B24 &#x2B24 &#x2B24';
auctions.links.push('https://github.com/simonpuravida333/Auctions');
projects.push(auctions);

const mail = structuredClone(codingProject);
mail.name = 'Mail (Harvard CS50W Project 3)';
mail.objective = 'A single-page e-mail application implemention on the front-end.';
mail.stack = 'Front-end: AJAX, RestAPI, CSS, HTML';
mail.tasks = 'algorithms, UI design';
mail.sophistication = '&#x2B24 &#x2B24 &#x2B24';
mail.links.push('https://github.com/simonpuravida333/Mail');
projects.push(mail);

const network = structuredClone(codingProject);
network.name = 'Network (Harvard CS50W Project 4)';
network.objective = 'A Twitter-like single-page app for writing messages and following people.'
network.stack = 'Back-end: Python / Django, SQLite, JSON API<br>Front-end: AJAX, JSON RestAPI, Web Animations API, HTML, CSS';
network.tasks = '3 SQL tables / models, routing, algoritms (on both stack-ends), UI design';
network.sophistication = '&#x2B24 &#x2B24 &#x2B24 &#x2B24 ';
network.links.push('https://github.com/simonpuravida333/Network');
projects.push(network);

const life = structuredClone(codingProject);
life.name = 'Life (Harvard CS50W Final Project)';
life.objective = 'A single-page app to easily access the data of the GBIF (Global Biodiversity Information Facility). The choice of project was free in this final assignment: I chose the GBIF where two passions come together: nature and tech.';
life.stack = 'Front-end: AJAX, Web Animations API, HTML, CSS<br>Back-end: yet to be implemented.';
life.tasks = 'deep examination of the GBIF (rest) API, sensible user querying and filter options, fetch calls design with thorough server response vetting, dynamic image loading, dynamic and appealing UI design, animations';
life.sophistication = '&#x2B24 &#x2B24 &#x2B24 &#x2B24 &#x2B24 &#x2B24';
life.links.push('https://github.com/simonpuravida333/Life');
projects.push(life);

const vocz = structuredClone(codingProject);
vocz.name = 'Vocz';
vocz.objective = "A single-page app for learning vocabulary.";
vocz.stack = 'Front-end: JavaScript, HTML, CSS';
vocz.tasks = 'appealing design and fluent user interactivity to make it feel like a computer game; algorithms<br><br>Creator comment: Vocz is my first JS application, written several years ago out of personal need / desire. Today, knowing JS better, I would write the code differently. It is perfectly stable though and the code is coherent. I may rewrite Vocz in the near future (e.g. using objects instead of global variables).'
vocz.sophistication = '&#x2B24 &#x2B24 &#x2B24 &#x2B24 &#x2B24';
vocz.links.push('https://github.com/simonpuravida333/Vocz');
projects.push(vocz);

const vela = structuredClone(designProject);
vela.name = 'Vela';
vela.concept = "A design concept (UX and UI) for a novel way of creating, managing and developing ideas, information and big projects.<br>...Vela has been a huge undertaking that was years in the making, as it breaks with conventional UI and UX designs. The concept went through four revisions over three years.<br>In the near future I want to realize the concept technically.";
vela.sophistication = '&#x2B24 &#x2B24 &#x2B24 &#x2B24 &#x2B24 &#x2B24 &#x2B24 &#x2B24 &#x2B24 &#x2B24';
vela.links.push('https://www.canva.com/design/DAFR2g6jMGE/Uq9ObLDajJBAQm3uq4PKOg/edit?utm_content=DAFR2g6jMGE&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton', 'https://www.canva.com/design/DAFQpdEimPw/9MUFDx3xx5s9yrCGljKjnw/edit?utm_content=DAFQpdEimPw&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton', 'https://www.canva.com/design/DAFX91MbUIE/Tq-tpr-geISHcNbDTI1xfA/edit?utm_content=DAFX91MbUIE&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton');
projects.push(vela);

const berlioz = structuredClone(designProject)
berlioz.name = 'Berlioz';
berlioz.concept = "A design concept for a novel way of composing melodies. It combines the strengths of MIDI keys with conventional notation, something that doesn't exist currently, but has huge potential.";
berlioz.sophistication = '&#x2B24 &#x2B24 &#x2B24 &#x2B24 &#x2B24 &#x2B24 &#x2B24';
berlioz.links.push('https://www.canva.com/design/DAFSzcX9FIE/nsbMCeFcpSsz7-xhMKUsIw/edit?utm_content=DAFSzcX9FIE&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton');
projects.push(berlioz);

const myself = {
	myself:
	{
		name: "Simon R&#246sch",
		passions: ["I &#x1F49C to conceptualize and design apps.","I &#x1F49C programming and technically design systems.","Interaction design serves my strong interests in aesthetics, conceptualization and creating an engaging flow state.","Programming serves my passions for building things and solving problems."],
		what_I_Want: "To create ;)",
		what_fascinates_me_the_most: "Creativity, nature and tech. My app designs draw strongly from nature &#x1F33A &#x1F99A &#x1F338 aesthetically and functionally, and are often about aiding the ideation process",
		why_You_want_me: "Generally, I like any programming challenge: back-end, front-end, data, algorithms... I've always loved puzzle games and programming is the <i>ultimate</i> puzzle game.<br>My full potential comes to the fore where I'm allowed to explore concepts, designs and user interactivities. Preferebly I do it all: software engineering, UX, conceptualization...",
		further_interests: "Astronomy, ancient history, cultures and anthropology, composing music, creative writing, the conservation of the natural world.",
		imgLink: "myself lower res.jpg",
	},
	software_engineering:
	{
		intermediate: 'JavaScript',
		junior: 'Java <strong>&#9679</strong> C# <strong>&#9679</strong> Python',
		more_techs: 'Git <strong>&#9679</strong> SQL (SQLite) <strong>&#9679</strong> Django <strong>&#9679</strong> CI/CD <strong>&#9679</strong> HTML <strong>&#9679</strong> CSS <strong>&#9679</strong> Bootstrap',
		coding_experience: [" completed Harvard's CS50W (Webdevelopment with Python and JavaScript)<br> "," currently engaged in Harvard's CS50G (Introduction to Game Development) which is great for learning to create sophisticated and engaging interaction designs for (web)apps."," some private coding experiences","completed 'Fundamentals of Programming' and 'Algorithm and Datastructures' at university + two more CS courses."],
	},
	design:
	{
		skills: ["proficiency in Figma and Adobe Creative Suite","proficiency in conceptualization (wireframes, mockups and interactive, functional visuals)","deep knowledge of visual and functional design rules and concepts.","mulitple ongoing application design projects, that I want to technically realize in the near future","fascinated by and analysed designs (esp applications) since I can remember"],
	}
}

document.addEventListener("DOMContentLoaded", (event) =>
{
	const body = document.querySelector('body');	
	body.innerHTML += canvaIconSVGDefsPart; // adds the "defs" part to body. It contains the styling IDs. This is vital if you have several instances of the same SVG and deal with display none / block of the SVGs. It's because the browser caches IDs only once, so the second, third... SVG you call won't have styling. Only the first (unless the first is display = block while another one is display = block. Then the other one will also have proper styling for the time the first SVG is visible. In other words: the browser caches the ID reference only once, but becuase the ID gets appended / removed from the DOM, it can't find it for the second, third ... SVG (which usually doesn't happen for IDs). That's the tricky thing about having in-place IDs (as in SVGs) get added / removed fromt the DOM body. The browers is fooled in thinking IDs are always global. That's why here I place the <defs> part to the body right away as it contains the stylings.
	const background = document.createElement('img');
	if (window.innerHeight <= 1080 && window.innerWidth <= 1920) background.src = "nightsky compressed.jpg"; // 2K
	else background.src = "nightsky upscaled compressed.jpg"; // 8K
	background.classList.add('window');
	const windowDiv = document.createElement('div');
	windowDiv.classList.add('window');
	windowDiv.append(background);
	body.append(windowDiv);

	let windowAspectRatio = (window.innerWidth / window.innerHeight).toFixed(4);
	const backgroundAspectRatio = 1.7778; // 16:9
	let backgroundImageFullHeight = true;
	if (windowAspectRatio > backgroundAspectRatio) backgroundImageFullHeight = false;

	background.onload = ()=>
	{
		function adjustBackground() // makes certain that height is always used.
		{
			windowAspectRatio = (window.innerWidth / window.innerHeight).toFixed(4);
			if (windowAspectRatio > backgroundAspectRatio) backgroundImageFullHeight = false;
			else backgroundImageFullHeight = true;
			
			if (backgroundImageFullHeight)
			{
				body.style['overflow-y'] = 'hidden';
				windowDiv.style.height = '100%';
				windowDiv.style.width = background.getBoundingClientRect().height*backgroundAspectRatio + 'px';
			}
			else
			{
				body.style['overflow-y'] = 'visible';
				windowDiv.style.width = '100%';
				windowDiv.style.height = background.getBoundingClientRect().width/backgroundAspectRatio + 'px';
			}
		}
		
		adjustBackground();
		window.addEventListener('resize',()=> adjustBackground());
		
		// GETTING PLACEMENT RANGES
		/* I've changed the placement of stars from relative within the window (absolute %) to relative within background (absolute %), so this condition isn't necessary anymore. It worked well though with the previous model. It's job was, that if you would have a high window aspect ratio of 2 or more (and would only see the sky of the background) it would place stars accordingly on the window.
		let verticalUpperRangePercent = 50; // the upper half of the background on which stars can appear IF full height of background image is visible.
		if (!backgroundImageFullHeight)
		{
			const offsetPixel = Math.round(background.getBoundingClientRect().width/backgroundAspectRatio) - window.innerHeight;
			const extraPercent = (100 / window.innerHeight) * offsetPixel;
			verticalUpperRangePercent += Math.round(extraPercent);
			if (verticalUpperRangePercent > 100) verticalUpperRangePercent = 100; // that can happen if the window gets an high aspect ratio of 2, 2.5 or more
		}
		*/
		
		const thatManyStars = projects.length;
		const shuffledSuccession = [];
		for (let z = 0; z < thatManyStars; z++) shuffledSuccession[z]=z;
		shuffledSuccession.sort(() => Math.random() - 0.5);

		let colorRange = getRndInteger(0,360);
		while (40 < colorRange && colorRange < 160) colorRange = getRndInteger(0,360); // avoids greens.
		
		// all in %
		let horizontalSection = 100 / thatManyStars;
		const marginPercentage = 0.33; // the higher the marginPercentage, the more evenly the distribution. Also: at a certain margin size it's likely for the rightmost stars to go out of windowDiv-bounds. When using high margins, lower the xProgress instantiation value.
		const margin = horizontalSection*marginPercentage;
		horizontalSection -= margin;
		let xProgress = margin; // when using higher margin, the start value should be smaller. At 99% margin, the value should be negative margin/2.

		for (let z = 0; z < thatManyStars; z++)
		{
			// COLOR
			const colorDegree = getRndInteger(colorRange-30, colorRange+30)
			const color = "hsl("+colorDegree+", 80%, 60%)"; // hsl color can deal with negative degrees
			
			// PLACEMENT COORDINATES IN ABSOLUTE % WITHIN windowDiv
			xProgress += getRndFloat(0, horizontalSection)+margin;
			const xPlacement = xProgress;
			const yPlacement = getRndFloat(10, 50); // arbitrarily adjusted to background-image, where the upper 60% is the night sky above the landscape. Similar to X, it's given a upper and lower cushion.
			// const yPlacement = getRndFloat(30, verticalUpperRangePercent); // DEBUG
			const starAndGlow = document.createElement('div');
			starAndGlow.classList.add('starAndGlow');
			starAndGlow.style.left = xPlacement+'%';
			starAndGlow.style.top = yPlacement+'%';
			
			// GETTING STAR AND HALO (and making the classes and IDs names unique to avoid duplicates)
			let newStar = `${starSVG}`; // clones the string
			newStar = newStar.replace(/#([0-9]|[A-F]){6}/, color);
			newStar = newStar.replaceAll('st0','st'+z);
			let newHalo = `${haloSVG}`;
			newHalo = newHalo.replaceAll(/#([0-9]|[A-F]){6}/g, color);
			newHalo = newHalo.replaceAll("SVGID_1_","SVGID_"+z+"_");
			newHalo = newHalo.replaceAll("st2","st"+(thatManyStars+z));
			const star = document.createElement('div'); // just appending newStar and newHalo to body won't work, even though it's HTML. So I have to wrap it into a designated doc div-element.
			star.innerHTML = newStar;
			star.style.opacity = 0;
			const halo = document.createElement('div');
			halo.innerHTML = newHalo;
			halo.style.opacity = 0;
			
			// STAR DIFFRACTION AND TOUCH AREA
			const starDiffractionHorizontal = document.createElement('div');
			const starDiffractionVertical = document.createElement('div');
			starDiffractionHorizontal.classList.add('starDiffractionHorizontal');
			starDiffractionVertical.classList.add('starDiffractionVertical');
			const core = document.createElement('div');
			core.style.opacity = 0;
			core.classList.add('core');
			const starDiffraction = document.createElement('div');
			starDiffraction.classList.add('starAndGlow');
			starDiffraction.style.left = '50%';
			starDiffraction.style.top = '50%';
			starDiffraction.style['pointer-events'] = 'none';
			starDiffraction.style.opacity = 0;
					
			const touchArea = document.createElement('div');
			touchArea.classList.add('star');
			touchArea.style.cursor = 'pointer';
			
			starDiffraction.append(starDiffractionVertical, starDiffractionHorizontal);
			starAndGlow.append(star, halo, starDiffraction, core, touchArea);
			windowDiv.append(starAndGlow);
			
			// STAR BIRTH ANIMATION
			const starBirthCore = document.createElement('div');
			starBirthCore.classList.add('core');
			const starBirthRing = document.createElement('div');
			starBirthRing.classList.add('ring');
			starAndGlow.append(starBirthCore, starBirthRing);
			
			// STAR TEXT
			const renderedText = document.createElement('div');
			renderedText.classList.add('starDescription');
			for (const key in projects[z])
			{
				if (key === 'links') continue;
				renderedText.innerHTML += "<strong><i>"+ key.charAt(0).toUpperCase()+key.slice(1) +"</i></strong><br>";
				const aDiv = document.createElement('div');
				aDiv.style['margin-left'] = '15px';
				aDiv.style['margin-bottom'] = '15px';
				aDiv.innerHTML = projects[z][key]+"<br>";
				renderedText.append(aDiv);
			}
			//renderedText.innerHTML = renderedText.innerHTML.slice(0, renderedText.innerHTML.lastIndexOf('<br>'));
			
			let iconSVG;
			if (projects[z].work === 'Software Engineering') iconSVG = gitHubIconSVG;
			else iconSVG = canvaIconSVG;
			const flexDiv = document.createElement('div');
			flexDiv.style.display = 'flex';
			renderedText.append(flexDiv);
			for (const link of projects[z].links)
			{
				const svgDiv = document.createElement('div');
				svgDiv.classList.add('svgDiv');
				const theLink = document.createElement('a');
				theLink.href = link;
				theLink.innerHTML = `${iconSVG}`;
				svgDiv.append(theLink);
				flexDiv.append(svgDiv);
			}
			windowDiv.append(renderedText);
	
			window.addEventListener('resize',()=> replaceRenderedText(windowDiv, starAndGlow, renderedText));
						
			setTimeout(()=>
			{
				starBirthCore.animate([{width: '10%', height: '10%', opacity: 1},{width: '80%', height: '80%', opacity: 1},{width: '130%', height: '130%',opacity:0}],1700).onfinish = ()=> starBirthCore.style.display = 'none';
				starBirthRing.animate([{width: '10%', height: '10%', opacity: 1},{width: '250%', height: '250%', opacity: 1,  borderWidth: '10px'},{width: '500%', height: '500%', opacity: 0, borderWidth: '10px'}],1500).onfinish = ()=> starBirthRing.style.display = 'none';
				starDiffraction.animate([{width: '130px', height: '130px', opacity: 0},{width: '500px',height: '500px', opacity: 1},{opacity: 1}],1500).onfinish = ()=> starDiffraction.style.opacity = 1;
				star.animate([{opacity: 0},{opacity: 0.2},{opacity: 1}],1500).onfinish = ()=> star.style.opacity = 1;
				core.animate([{opacity: 0},{opacity: 0.2},{opacity: 1}],1500).onfinish = ()=> core.style.opacity = 1;
			}, shuffledSuccession[z]*200);
			
			const infoDivAni = renderedText.animate([{opacity: 0},{opacity: 1}],300);
			const infoTextAni = renderedText.animate([{color: 'rgba(255,255,255,0)'},{color: 'rgba(255,255,255,1)'}],333);
			infoDivAni.pause();
			infoTextAni.pause();
			
			let blockAllAni = false;
			let blockMouseOut = false;
			
			touchArea.addEventListener('mouseover', ()=>{if (!blockAllAni) mouseOver()});
			touchArea.addEventListener('mouseout', ()=>
			{
				if (!blockAllAni && !blockMouseOut) mouseOut();
				blockMouseOut = false;
			});
			touchArea.addEventListener('click', ()=>
			{
				blockAllAni ^= true;
				starBirthRing.style.display = 'block';
				starBirthRing.animate([{width: '60%', height: '60%', opacity: 1},{width: '130%', height: '130%', borderWidth: '3px', opacity: 1},{width: '200%', height: '200%', borderWidth: '3px', opacity: 0}],400).onfinish = ()=> starBirthRing.style.display = 'none';
				
				if (blockAllAni) renderedText.animate([{borderTop: '20px solid #2D476B', borderBottom: '20px solid #2D476B'},{borderTop: '20px solid white', borderBottom: '20px solid white'},{borderTop: '20px solid '+ color, borderBottom: '20px solid '+color}],500).onfinish =()=>
				{
					renderedText.style['border-bottom'] = "20px solid "+ color;
					renderedText.style['border-top'] = "20px solid "+color;
				}
				else renderedText.animate([{borderTop: '20px solid '+ color, borderBottom: '20px solid '+color}, {borderTop: '20px solid #2D476B', borderBottom: '20px solid #2D476B'}],500).onfinish =()=>
				{
					renderedText.style['border-bottom'] = "20px solid #2D476B";
					renderedText.style['border-top'] = "20px solid #2D476B";
				}
				
				if (!blockAllAni) mouseOut();
				else if (halo.style.opacity < 1) mouseOver();
				blockMouseOut = true;
			});
			
			function mouseOut()
			{
				starDiffraction.animate([{width: '230px',height: '230px'},{width: '130px', height: '130px'}],200).onfinish = ()=> {starDiffraction.style.width = '130px'; starDiffraction.style.height = '130px';};
				halo.animate([{opacity:1},{opacity: 0}],200).onfinish = ()=> halo.style.opacity = 0;
				core.animate([{width: '15%', height: '15%'},{width: '10%', height: '10%'}],200).onfinish = ()=> {core.style.width = '10%'; core.style.height = '10%';}
				infoDivAni.reverse();
				infoDivAni.onfinish = ()=> renderedText.style.display = 'none';
			}
			function mouseOver()
			{
				starDiffraction.animate([{width: '130px', height: '130px'},{width: '230px',height: '230px'}],200).onfinish = ()=> {starDiffraction.style.width = '230px'; starDiffraction.style.height = '230px';};
				halo.animate([{opacity: 0},{opacity:1}],200).onfinish = ()=> halo.style.opacity = 1;
				core.animate([{width: '10%', height: '10%'},{width: '15%', height: '15%'}],200).onfinish = ()=> {core.style.width = '15%'; core.style.height = '15%';}
				
				if (infoDivAni.playbackRate === -1) infoDivAni.playbackRate = 1;
				renderedText.style.display = 'block';
				renderedText.style.color = 'rgba(255,255,255,0)';
				infoDivAni.play();
				infoDivAni.onfinish = ()=>
				{
					infoTextAni.play();
					infoTextAni.onfinish = ()=> renderedText.style.color = 'rgba(255,255,255,1)';
				}
				replaceRenderedText(windowDiv, starAndGlow, renderedText);
			}
		}
	}
	
	const myselfDiv = document.createElement('div');
	const myselfCore = document.createElement('div');
	const myselfRing = document.createElement('div');
	myselfDiv.classList.add('star');
	myselfDiv.id = 'myselfStar';
	myselfCore.classList.add('core');
	myselfRing.classList.add('ring');
	myselfCore.style.width = '50%';
	myselfCore.style.height = '50%';
	myselfCore.style.opacity =1;
	myselfRing.style.width = '100%';
	myselfRing.style.height = '100%';
	myselfRing.style.opacity = 1;
	myselfDiv.append(myselfCore, myselfRing);
	windowDiv.append(myselfDiv);
	
	setTimeout(()=>
	{
		myselfDiv.style.display = 'block';
		myselfDiv.animate({opacity: [0,1]},500).onfinish = ()=> myselfRing.animate({
			width: ['100%','200%','300%'],
			height: ['100%','200%','300%'],
			opacity: [0,1,0],
			easing: ['ease-in','ease-out'],
		},800).onfinish = ()=> myselfRing.animate({opacity: [0,1]},300);
	},3000);
	
	myselfDiv.onmouseover = ()=>
	{
		myselfRing.animate({
			width: ['100%','80%','120%','100%'],
			height: ['100%','80%','120%','100%'],
			easing: ['ease-in','ease-out'],
		},800);
		myselfCore.animate({
			width: ['50%','50%','40%','50%'],
			height: ['50%','50%','40%','50%'],
			easing: ['ease-in','ease-out'],
		},800);
	}
	let myselfInfoVisible = false;
	myselfDiv.onclick = ()=>
	{
		myselfRing.animate({
			width: ['100%','200%','300%'],
			height: ['100%','200%','300%'],
			opacity: [1,1,0],
		},300).onfinish = ()=> myselfRing.animate({opacity: [0,1]},300);
		myselfInfoVisible ^= true;
		if (myselfInfoVisible)
		{
			myselfInfo.style.display = 'block';
			myselfInfo.animate({opacity:[0,1]},500);
		}
		else myselfInfo.animate({opacity:[1,0]},500).onfinish = ()=> myselfInfo.style.display = 'none';	
	}
		
	let myselfInfo = document.createElement('div');
	myselfInfo.classList.add('starDescription');
	myselfInfo.id = 'myselfDescription';
	windowDiv.append(myselfInfo);
	myselfInfo = loopObject(myself, myselfInfo);
});

function loopObject(object, container)
{
	for (const key in object)
	{
		const subHeadline = document.createElement('div');
		subHeadline.innerHTML += key.replaceAll('_',' ').toUpperCase();
		subHeadline.style['font-weight'] = '600';
		
		if (typeof object[key] === 'object' && !Array.isArray(object[key]))
		{	
			subHeadline.style['font-size'] = '18px';
			
			const lineDiv = document.createElement('div');
			lineDiv.style['background-color'] = "white";
			lineDiv.style.flex = 1;
			lineDiv.style.height = '2px';
			lineDiv.style['border-radius'] = '2px';
			lineDiv.style.margin = '5px';
			
			const pearl = document.createElement('div');
			pearl.style.width = '8px';
			pearl.style.height = '8px';
			pearl.style.margin = '8px';
			pearl.style['border-radius'] = '4px'
			pearl.style['background-color'] = 'white';
			
			const flexy = document.createElement('div');
			flexy.classList.add('flexPart');
			flexy.style['margin-left'] = 0;
			flexy.append(pearl, lineDiv, pearl.cloneNode(true), subHeadline, pearl.cloneNode(true), lineDiv.cloneNode(true), pearl.cloneNode(true));
			
			const subContainer = document.createElement('div');
			subContainer.style.margin = '15px';
			subContainer.style['margin-bottom'] = '60px';
			
			container.append(flexy, loopObject(object[key], subContainer));
		}
		else 
		{
			const aDiv = document.createElement('div');
			aDiv.style['margin-bottom'] = '20px';
			subHeadline.style['letter-spacing'] = '0.1em';
			subHeadline.style['font-style'] = 'italic';
			subHeadline.style['font-family'] = 'Crimson Pro';
			
			aDiv.append(subHeadline);
			
			if (Array.isArray(object[key])) for (const point of object[key])
			{
				const subDiv = document.createElement('div');
				subDiv.innerHTML = point;
				//subDiv.style['margin-left'] = '20px';
				
				const flexy = document.createElement('div');
				flexy.classList.add('flexPart');
				flexy.style['justify-content'] = 'left';
				flexy.style.margin = 0;
				flexy.style['margin-bottom'] = '10px';
				const bullet = document.createElement('div');
				bullet.style.marginRight = '10px';
				bullet.innerHTML = "<strong>&#9679</strong>"
				flexy.append(bullet, subDiv)
				aDiv.append(flexy)
				/*if (x === object[key].length-1) aDiv.append(subDiv)
				else aDiv.append(flexy);*/ // useful when creating style-divisions between the points, so that there's no division after the last point
			}
			else if (key === 'imgLink')
			{
				subHeadline.innerHTML = "";
				const image = document.createElement('img');
				image.src = object[key];
				const frame = document.createElement('div');
				frame.style.border = "8px solid white";
				frame.style['border-radius'] = '10px';
				image.onload = ()=>
				{
					frame.style['max-width'] = image.naturalWidth+'px';
					frame.style['max-height'] = image.naturalHeight+'px';
					frame.style.margin = '0 auto';
					frame.append(image);
					aDiv.append(frame);
				}
			}
			else 
			{
				const subDiv = document.createElement('div');
				subDiv.innerHTML = object[key];
				aDiv.append(subDiv);
			}
			container.append(aDiv);
		}
	}
	return container;
}

function replaceRenderedText(windowDiv, starAndGlow, renderedText)
{
	// I love using getBoundingClientRect() because of its reliability, but it gives coordinates relative to the window, so once there's scrolling, you have to add scroll offset or use offsetLeft / offsetTop as I do here. CAUTION: offset takes transform-translate into consideration, unlike getBoundingClientRect(). Since starAndGlow is grabbed by its center, the sides are +/- width/2 or height/2. ALSO CAUTION: renderedText only has translateX(-50%), meaning offsetTop is literally the top.
	
	renderedText.style.top = starAndGlow.offsetTop + starAndGlow.getBoundingClientRect().height/2 +'px'; // renderedText are placed under the star by default
	renderedText.style.left = starAndGlow.offsetLeft + 'px';

	if (renderedText.offsetLeft - renderedText.getBoundingClientRect().width/2 < 0) renderedText.style.left = renderedText.getBoundingClientRect().width/2 + 'px'; // if over left bound of window, place it inside at beginning
	if (renderedText.offsetLeft + renderedText.getBoundingClientRect().width/2 > windowDiv.getBoundingClientRect().width) renderedText.style.left = windowDiv.getBoundingClientRect().width - renderedText.getBoundingClientRect().width/2 + 'px'; // if over right bound of window, place it inside at right side
	if (renderedText.offsetTop + renderedText.getBoundingClientRect().height > windowDiv.getBoundingClientRect().height)
	{
		renderedText.style.top = windowDiv.getBoundingClientRect().height-renderedText.getBoundingClientRect().height + 'px'; // if over bottom bound of window, place it inside on the bottom...
		if (renderedText.offsetTop < starAndGlow.offsetTop+starAndGlow.getBoundingClientRect().height/2) // ...then if top of renderedText overlaps with bottom of star ...
		{
			if (starAndGlow.offsetLeft + starAndGlow.getBoundingClientRect().width/2 > windowDiv.getBoundingClientRect().width/2) renderedText.style.left = starAndGlow.offsetLeft - starAndGlow.getBoundingClientRect().width/2 - renderedText.getBoundingClientRect().width/2 + 'px'; // ...then if star-center is right of background-center, renderedText will be placed left of star, or...
			else renderedText.style.left = starAndGlow.offsetLeft + starAndGlow.getBoundingClientRect().width/2 + renderedText.getBoundingClientRect().width/2 + 'px'; //... if star-center is perfectly center or left of background middle, place rendered text right of star
		}
	}
}

function getRndInteger(min, max)
{
	return Math.floor(Math.random() * (max - min + 1)) + min;
}

function getRndFloat(min, max)
{
	return Math.random() * (max - min) + min;
}